<!DOCTYPE html>
<html>
  <head>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
  </head>
  <body>
    <h1>Shared Worker</h1>

    <script>
      let worker = new SharedWorker('shared-worker.js');
      worker.port.postMessage('First message');

      worker.port.onmessage = function(e) {
        console.log('Message received from worker' + e);

        var node = document.createElement('LI');
        var textnode = document.createTextNode('New item');
        node.appendChild(textnode);
        document.getElementById('list').appendChild(node);
      };
    </script>

    <h2>Details page count</h2>
    <ul id="list"></ul>
  </body>
</html>
